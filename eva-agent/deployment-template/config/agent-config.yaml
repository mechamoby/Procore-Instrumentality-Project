# ═══════════════════════════════════════════════════════════════
# EVA Agent Configuration
# ═══════════════════════════════════════════════════════════════
# This file is generated by scripts/setup.sh
# Manual edits are fine — restart the agent after changes.
# ═══════════════════════════════════════════════════════════════

# ─── Company Info ─────────────────────────────────────────────
# CUSTOMIZE: Set during client onboarding
company:
  name: "ACME Construction Inc."            # Client's legal name
  short_name: "ACME"                        # Used in greetings and references
  type: "general_contractor"                # general_contractor | developer | subcontractor
  region: "South Florida"
  license_number: ""                        # State contractor license (CGC/CBC)
  primary_contact:
    name: ""
    email: ""
    phone: ""

# ─── Agent Behavior ──────────────────────────────────────────
agent:
  name: "EVA"                               # How the agent introduces itself
  model: "claude-sonnet-4-20250514"
  thinking: "low"
  timezone: "America/New_York"
  language: "en"

  # Prompt files (relative to prompts directory)
  prompts:
    system: "base-system.md"
    workflows:
      daily_reports: "daily-reports.md"
      submittals: "submittals.md"

  # Behavioral controls
  behavior:
    tone: "professional"                    # professional | casual | formal
    verbosity: "concise"                    # concise | detailed
    always_confirm_before:
      - "sending_email"
      - "creating_rfi"
      - "submitting_change_order"
      - "docusign_send"
    auto_actions:
      - "reading_project_data"
      - "generating_reports"
      - "looking_up_submittals"

# ─── Integrations ────────────────────────────────────────────
integrations:
  # Procore — Project management platform
  # CUSTOMIZE: Client provides API credentials from Procore admin
  procore:
    enabled: true
    environment: "production"               # production | sandbox
    company_id: ""                          # From Procore admin panel
    # API creds set via environment variables:
    #   PROCORE_CLIENT_ID, PROCORE_CLIENT_SECRET
    sync_interval_minutes: 15
    default_project_id: ""                  # Optional: pre-select active project
    features:
      daily_logs: true
      submittals: true
      rfis: true
      change_orders: true
      drawings: true
      schedule: true
      directory: true

  # DocuSign — Electronic signatures
  # CUSTOMIZE: Client provides DocuSign admin API keys
  docusign:
    enabled: true
    environment: "production"               # production | demo
    account_id: ""
    # API creds set via environment variables:
    #   DOCUSIGN_INTEGRATION_KEY, DOCUSIGN_SECRET_KEY
    default_templates: []                   # Pre-configured envelope template IDs
    auto_remind_days: 3                     # Days before sending reminder

  # Email (SMTP)
  # CUSTOMIZE: Client's outbound email settings
  email:
    enabled: true
    # SMTP settings via environment variables:
    #   SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASSWORD, SMTP_FROM
    reply_to: ""                            # Where replies should go
    signature: |
      --
      EVA — AI Construction Assistant
      {{company.name}}

# ─── Users ───────────────────────────────────────────────────
# CUSTOMIZE: Add all users who will interact with the agent
# Role definitions are in config/roles.yaml
users:
  - id: "user-001"
    name: "John Smith"
    email: "john@example.com"
    role: "admin"                           # admin | project_manager | superintendent | executive
    projects: ["all"]                       # ["all"] or list of Procore project IDs
    channels:                               # How this user communicates with EVA
      - type: "email"
        address: "john@example.com"
      # - type: "telegram"
      #   chat_id: ""
      # - type: "sms"
      #   phone: ""

  # Add more users below:
  # - id: "user-002"
  #   name: "Jane Doe"
  #   email: "jane@example.com"
  #   role: "project_manager"
  #   projects: ["all"]
  #   channels:
  #     - type: "email"
  #       address: "jane@example.com"

# ─── Projects ────────────────────────────────────────────────
# Optional: Pre-configure active projects for faster setup
# These map to Procore project IDs
projects: []
  # - procore_id: "12345"
  #   name: "Oceanview Tower"
  #   address: "123 Ocean Dr, Miami Beach, FL"
  #   status: "active"                     # active | preconstruction | closeout
  #   superintendent: "user-002"
  #   project_manager: "user-001"

# ─── Notifications ───────────────────────────────────────────
notifications:
  daily_report_reminder:
    enabled: true
    time: "15:00"                           # 3 PM — remind supers to submit daily logs
    recipients: ["superintendent"]          # Role-based targeting
  
  submittal_due_alert:
    enabled: true
    days_before: [7, 3, 1]                  # Alert at 7, 3, and 1 day before due
    recipients: ["project_manager", "superintendent"]

  rfi_overdue:
    enabled: true
    days_overdue: 3
    recipients: ["project_manager"]
